<html lang="en"><head><meta charset="utf-8" /><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport" /><meta content="Adrian Smith" name="author" /><link href="dewey-analysis/favicon.ico" rel="icon" /><title>Analyzing Every Clojure Project on Github</title><script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script><script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script><script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script><link href="dewey-analysis/bootstrap.min.css" rel="stylesheet" /><link href="dewey-analysis/blog.css" rel="stylesheet" /><style type="text/css">.syntax pre {
  background: ;
}

.syntax pre .definition {
  color: #00f;
}

.syntax pre .core-fn {
  color: #30a;
}

.syntax pre .variable {
  color: black;
}

.syntax pre .number {
  color: #164;
}

.syntax pre .s-exp {
  color: #997;
}

.syntax pre .special-form {
  color: #30a;
}

.syntax pre .string {
  color: #a11;
}

.syntax pre .keyword {
  color: #708;
}

.syntax pre .macro {
  color: #05a;
}

.syntax pre .reader-char {
  color: #555;
}

.syntax pre .nil {
  color: #164;
}

.syntax pre .comment {
  color: #a50;
}

.syntax pre .repeat {
  color: #f00;
}

.syntax pre .regex {
  color: #f50;
}

.syntax pre .exception {
  color: #f00;
}

.syntax pre .boolean {
  color: #164;
}

.syntax pre .character {
  color: #f50;
}

.syntax pre .conditional {
  color: #30a;
} div.syntax { padding: 4px ; background-color: #f8f8f8; margin-bottom: 18px } div.syntax pre { margin-bottom: 0 }</style></head><body><div class="blog-masthead"><div class="container"><nav class="nav blog-nav"><a class="nav-link" href="/">Home</a></nav></div></div><div class="blog-header"><div class="container"><h1 class="blog-title">Analyzing Every Clojure Project on Github</h1><p class="lead blog-description"></p></div></div><div class="container"><div class="row"><div class="col-sm-8 blog-main"><div class="blog-post"><div><ul><li><a href="#Introduction">Introduction</a></li><li><a href="#Results">Results</a></li><ul><li><a href="#Hidden-Gems">Hidden Gems</a></li><ul><li><a href="#pvalues-and-pcalls">pvalues and pcalls</a></li><li><a href="#parse-">parse-*</a></li><li><a href="#iteration">iteration</a></li><li><a href="#min-key-and-max-key">min-key and max-key</a></li><li><a href="#random-uuid">random-uuid</a></li></ul><li><a href="#Usage-of-clojurecore-functions-added-in-110-and-111">Usage of clojure.core functions added in 1.10 and 1.11</a></li><li><a href="#Reference-type-usage">Reference type usage</a></li><li><a href="#Var-Definitions-and-Macros">Var Definitions and Macros</a></li><li><a href="#Lein-vs-deps">Lein vs deps</a></li><li><a href="#Local-names">Local names</a></li><ul><li><a href="#Local-name-lengths">Local name lengths</a></li><li><a href="#Local-binding-names-that-are-a-single-letter">Local binding names that are a single letter</a></li></ul><li><a href="#Emoji-and-unicode-in-names">Emoji and unicode in names</a></li></ul><li><a href="#Failed-Analyses">Failed Analyses</a></li><li><a href="#Biases">Biases</a></li><li><a href="#Future-Work">Future Work</a></li><ul><li><a href="#Mundane-Improvements">Mundane Improvements</a></li><li><a href="#Use-a-database">Use a database</a></li><li><a href="#Example-Usages">Example Usages</a></li><li><a href="#Improved-Code-Search">Improved Code Search</a></li><li><a href="#JavaJavascript-Interop">Java/Javascript Interop</a></li><li><a href="#Clojure-Specs">Clojure Specs</a></li><li><a href="#N-grams">N-grams</a></li><li><a href="#Namespace-Alias-usage">Namespace Alias usage</a></li></ul><li><a href="#Related-Work">Related Work</a></li><li><a href="#Footnotes">Footnotes</a></li></ul><p>Posted: September 6th, 2022<br /><strong>Update</strong>: September 7th, 2022. Added <a href="http://localhost:8000/dewey-analysis.html#Failed-Analyses">Failed Analyses</a> section and fixed total repository count.</p><p><em>See <a href="https://github.com/phronmophobic/blog/blob/master/markdown/dewey-analysis.md">source</a> for full history.</em></p><h1 id="Introduction">Introduction</h1><p>I&apos;m generally interested in tools like <a href="https://cljdoc.org/">cljdoc</a> that work at the ecosystem level. As part of my work on <a href="https://github.com/phronmophobic/dewey">dewey</a>, which builds an index of all clojure libraries on github, I thought it would be a straightforward extension to statically analyze all the projects found. A bare, shallow checkout of every clojure project found by dewey<sup><a href="#footnote-1" name="footnote-ref-1" title="Nine projects were excluded because they are ginormous by themselves.">1</a></sup> is only about 14GB, which is a very tractable size.</p><p>There&apos;s also a couple of features of the clojure ecosystem that make it an interesting target for wholesale analysis:</p><ul><li><p>libraries address a wide range of problems</p></li><li><p>libraries tend to be stable and concise</p></li><li><p>clojure syntax is regular and minimal</p></li><li><p>clojure has strong support and conventions for namespaces</p></li></ul><p>There are several tools available for analysis. Projects like cljdoc and <a href="https://github.com/devn/getclojure">getclojure</a> use dynamic analysis, but for this initial run, I chose to use <a href="https://github.com/clj-kondo/clj-kondo/tree/master/analysis">clj-kondo&apos;s static analysis</a>. Given a project, clj-kondo will report<sup><a href="#footnote-2" name="footnote-ref-2" title="Clj-kondo also allows you to write your own linters, but that will have to wait for a future update.">2</a></sup>:</p><ul><li><p>namespace definitions and usages</p></li><li><p>locals and usages</p></li><li><p>var definitions and usages</p></li><li><p>keywords</p></li><li><p>protocol implementations</p></li></ul><p><strong>Analysis Rate</strong>: 87%</p><p>Out of the 13,274 repositories found by dewey on github, 11,573 (87%) were successfully<sup><a href="#footnote-3" name="footnote-ref-3" title="See [Failed Analyses](#Failed-Analyses).">3</a></sup> analyzed.</p><h1 id="Results">Results</h1><p>The main goal of this project is to make the resulting analyses available for other projects and tools to consume. The full analysis of projects can be found under the <a href="https://github.com/phronmophobic/dewey/releases">dewey releases</a> in the <code>analysis.edn.gz</code> file.</p><p>In addition to providing the data, I also wanted to do some cursory investigation based on the analyses which I present below.</p><h2 id="Hidden-Gems">Hidden Gems</h2><p>The clojure.core library is <span title="teehee">rich</span> and I always seem to find useful nuggets that I&apos;ve somehow missed. Just to make sure that I&apos;m not the only person with clojure.core FOMO, I thought I&apos;d share some hidden gems found among the least used public clojure.core vars. To be fair, many of these functions are recent additions, but not all of them!</p><h3 id="pvalues-and-pcalls">pvalues and pcalls</h3><p>I&apos;ll often use <code>pmap</code> for quick and dirty parallel computation. <code>pvalues</code>(15 usages) and <code>pcalls</code>(19 usages) also seem useful for quick and dirty parallelization.</p><p><code>(pvalues &amp; exprs)</code>: Returns a lazy sequence of the values of the exprs, which are evaluated in parallel.<br /><code>(pcalls &amp; fns)</code>: Executes the no-arg fns in parallel, returning a lazy sequence of their values.</p><h3 id="parse-">parse-*</h3><p>The core library added a handful of useful parse-* functions in <code>1.11</code> like <code>parse-double</code>(26 usages), <code>parse-boolean</code> (6 usages), <code>parse-long</code>(202 usages), <code>parse-uuid</code>(25 usages). They do basically what you would expect. I usually search for the proper java interop call or go the lazy route and just use <code>read-string</code>. I&apos;m happy to have a better alternative now.</p><h3 id="iteration">iteration</h3><p>Another gem is <code>iteration</code> (11 usages, once by <a href="https://github.com/phronmophobic/dewey/blob/b5c29261ca1feed4c213606499c5160305e1b622/src/com/phronemophobic/dewey.clj#L57">dewey itself!</a>) which was added in <code>1.11</code>. The doc string doesn&apos;t immediately illuminate why or how to use it, but it&apos;s great. Check it out!<sup><a href="#footnote-4" name="footnote-ref-4" title="Here&apos;s a blog post explaining more about `iteration`. [https://www.juxt.pro/blog/new-clojure-iteration](https://www.juxt.pro/blog/new-clojure-iteration) ">4</a></sup></p><h3 id="min-key-and-max-key">min-key and max-key</h3><p>Two functions that I think are criminally under used are <code>min-key</code>(256 usages) and <code>max-key</code>(431 usages). They tend to get overshadowed by their much more popular cousin, <code>sort-by</code> (4,926 usages), but are still useful in their own right.</p><div class="syntax"><pre><span class="s-exp">(</span><span class="core-fn">min-key</span> <span class="symbol">k</span> <span class="symbol">x</span><span class="s-exp">)</span>
<span class="s-exp">(</span><span class="core-fn">min-key</span> <span class="symbol">k</span> <span class="symbol">x</span> <span class="symbol">y</span><span class="s-exp">)</span>
<span class="s-exp">(</span><span class="core-fn">min-key</span> <span class="symbol">k</span> <span class="symbol">x</span> <span class="symbol">y</span> <span class="reader-char">&amp;</span> <span class="symbol">more</span><span class="s-exp">)</span>
</pre></div><pre><code>Returns the x for which (k x), a number, is least. 
If there are multiple such xs, the last one is returned.
</code></pre><p><code>max-key</code> is the same, but different.</p><h3 id="random-uuid">random-uuid</h3><p><code>random-uuid</code>(60 usages) is another <code>1.11</code> addition and a welcome one.</p><h2 id="Usage-of-clojurecore-functions-added-in-110-and-111">Usage of clojure.core functions added in 1.10 and 1.11</h2><p>There&apos;s always a delay between new clojure versions and projects getting around to adopting and leveraging the latest additions. I was curious which of the latest features were gaining traction.</p>
&lt;div id=&quot;viz_21748&quot;&gt;&lt;/div&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
      var yourVlSpec_viz_21748 = {&quot;$schema&quot;:&quot;https:\/\/vega.github.io\/schema\/vega-lite\/v5.json&quot;,&quot;description&quot;:&quot;description&quot;,&quot;data&quot;:{&quot;values&quot;:[{&quot;c&quot;:818,&quot;name&quot;:&quot;ex-message&quot;,&quot;added&quot;:&quot;1.10&quot;},{&quot;c&quot;:412,&quot;name&quot;:&quot;abs&quot;,&quot;added&quot;:&quot;1.11&quot;},{&quot;c&quot;:301,&quot;name&quot;:&quot;requiring-resolve&quot;,&quot;added&quot;:&quot;1.10&quot;},{&quot;c&quot;:202,&quot;name&quot;:&quot;parse-long&quot;,&quot;added&quot;:&quot;1.11&quot;},{&quot;c&quot;:104,&quot;name&quot;:&quot;tap&gt;&quot;,&quot;added&quot;:&quot;1.10&quot;},{&quot;c&quot;:102,&quot;name&quot;:&quot;ex-cause&quot;,&quot;added&quot;:&quot;1.10&quot;},{&quot;c&quot;:67,&quot;name&quot;:&quot;add-tap&quot;,&quot;added&quot;:&quot;1.10&quot;},{&quot;c&quot;:66,&quot;name&quot;:&quot;update-vals&quot;,&quot;added&quot;:&quot;1.11&quot;},{&quot;c&quot;:60,&quot;name&quot;:&quot;random-uuid&quot;,&quot;added&quot;:&quot;1.11&quot;},{&quot;c&quot;:26,&quot;name&quot;:&quot;parse-double&quot;,&quot;added&quot;:&quot;1.11&quot;},{&quot;c&quot;:25,&quot;name&quot;:&quot;parse-uuid&quot;,&quot;added&quot;:&quot;1.11&quot;},{&quot;c&quot;:22,&quot;name&quot;:&quot;update-keys&quot;,&quot;added&quot;:&quot;1.11&quot;},{&quot;c&quot;:19,&quot;name&quot;:&quot;remove-tap&quot;,&quot;added&quot;:&quot;1.10&quot;},{&quot;c&quot;:16,&quot;name&quot;:&quot;PrintWriter-on&quot;,&quot;added&quot;:&quot;1.10&quot;},{&quot;c&quot;:11,&quot;name&quot;:&quot;iteration&quot;,&quot;added&quot;:&quot;1.11&quot;},{&quot;c&quot;:9,&quot;name&quot;:&quot;infinite?&quot;,&quot;added&quot;:&quot;1.11&quot;},{&quot;c&quot;:7,&quot;name&quot;:&quot;NaN?&quot;,&quot;added&quot;:&quot;1.11&quot;},{&quot;c&quot;:6,&quot;name&quot;:&quot;parse-boolean&quot;,&quot;added&quot;:&quot;1.11&quot;},{&quot;c&quot;:5,&quot;name&quot;:&quot;read+string&quot;,&quot;added&quot;:&quot;1.10&quot;},{&quot;c&quot;:2,&quot;name&quot;:&quot;seq-to...ucturing*&quot;,&quot;added&quot;:&quot;1.11&quot;}]},&quot;layer&quot;:[{&quot;mark&quot;:&quot;bar&quot;},{&quot;mark&quot;:{&quot;type&quot;:&quot;text&quot;,&quot;align&quot;:&quot;left&quot;,&quot;baseline&quot;:&quot;middle&quot;,&quot;dx&quot;:3},&quot;encoding&quot;:{&quot;text&quot;:{&quot;field&quot;:&quot;c&quot;,&quot;type&quot;:&quot;nominal&quot;}}}],&quot;encoding&quot;:{&quot;x&quot;:{&quot;field&quot;:&quot;c&quot;,&quot;type&quot;:&quot;quantitative&quot;,&quot;title&quot;:&quot;usage count&quot;},&quot;color&quot;:{&quot;field&quot;:&quot;added&quot;,&quot;legend&quot;:{&quot;orient&quot;:&quot;bottom&quot;},&quot;type&quot;:&quot;nominal&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;name&quot;,&quot;type&quot;:&quot;nominal&quot;,&quot;title&quot;:null,&quot;sort&quot;:{&quot;field&quot;:&quot;c&quot;,&quot;op&quot;:&quot;max&quot;}}}};
      vegaEmbed(&apos;#viz_21748&apos;, yourVlSpec_viz_21748, {actions: false});
    &lt;/script&gt;<p>* seq-to-map-for-destructuring<sup><a href="#footnote-5" name="footnote-ref-5" title="CSS is hard">5</a></sup></p><h2 id="Reference-type-usage">Reference type usage</h2><div style="width:100%;overflow:scroll;">
&lt;div id=&quot;viz_21749&quot;&gt;&lt;/div&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
      var yourVlSpec_viz_21749 = {&quot;$schema&quot;:&quot;https:\/\/vega.github.io\/schema\/vega-lite\/v5.json&quot;,&quot;description&quot;:null,&quot;data&quot;:{&quot;values&quot;:[{&quot;_index&quot;:0,&quot;count&quot;:2000,&quot;count str&quot;:&quot;2,000&quot;,&quot;ref type&quot;:&quot;ref&quot;},{&quot;_index&quot;:1,&quot;count&quot;:18592,&quot;count str&quot;:&quot;18,592&quot;,&quot;ref type&quot;:&quot;atom&quot;},{&quot;_index&quot;:2,&quot;count&quot;:581,&quot;count str&quot;:&quot;581&quot;,&quot;ref type&quot;:&quot;agent&quot;},{&quot;_index&quot;:3,&quot;count&quot;:1329,&quot;count str&quot;:&quot;1,329&quot;,&quot;ref type&quot;:&quot;volatile!&quot;}]},&quot;layer&quot;:[{&quot;mark&quot;:&quot;bar&quot;},{&quot;mark&quot;:{&quot;type&quot;:&quot;text&quot;,&quot;align&quot;:&quot;left&quot;,&quot;baseline&quot;:&quot;middle&quot;,&quot;dx&quot;:3},&quot;encoding&quot;:{&quot;text&quot;:{&quot;field&quot;:&quot;count str&quot;,&quot;type&quot;:&quot;nominal&quot;}}}],&quot;encoding&quot;:{&quot;x&quot;:{&quot;field&quot;:&quot;count&quot;,&quot;type&quot;:&quot;quantitative&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;ref type&quot;,&quot;type&quot;:&quot;nominal&quot;,&quot;sort&quot;:{&quot;field&quot;:&quot;count&quot;,&quot;op&quot;:&quot;max&quot;}}}};
      vegaEmbed(&apos;#viz_21749&apos;, yourVlSpec_viz_21749, {actions: false});
    &lt;/script&gt;</div><p>The results match my expectation that <code>atom</code> is, by far, the most common reference type. It was interesting to see that <code>ref</code> usage is higher than <code>volatile!</code>, but <code>volatile!</code> is much newer. I&apos;m not surprised that <code>agent</code> is the least used reference type.</p><p><strong>Average mutable reference usage per repository</strong>: 1.94<br /><strong>Repositories with no mutable reference usages</strong>: 7,245 (63%)</p><p>Truly bananas. Clojure libraries really do have less state. It probably isn&apos;t surprising if you&apos;ve been programming in clojure for any length of time, but it&apos;s pretty wild to see the data back this up. I don&apos;t think I would have believed this 10 years ago.</p><h2 id="Var-Definitions-and-Macros">Var Definitions and Macros</h2><div style="width:100%;overflow:scroll;">
&lt;div id=&quot;viz_21750&quot;&gt;&lt;/div&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
      var yourVlSpec_viz_21750 = {&quot;$schema&quot;:&quot;https:\/\/vega.github.io\/schema\/vega-lite\/v5.json&quot;,&quot;description&quot;:null,&quot;data&quot;:{&quot;values&quot;:[{&quot;_index&quot;:0,&quot;percentage&quot;:2.0203450981924513,&quot;percentage str&quot;:&quot;2.02&quot;,&quot;def type&quot;:&quot;declare&quot;},{&quot;_index&quot;:1,&quot;percentage&quot;:21.65492785761036,&quot;percentage str&quot;:&quot;21.65&quot;,&quot;def type&quot;:&quot;def&quot;},{&quot;_index&quot;:2,&quot;percentage&quot;:0.04884386569890687,&quot;percentage str&quot;:&quot;0.05&quot;,&quot;def type&quot;:&quot;definline&quot;},{&quot;_index&quot;:3,&quot;percentage&quot;:0.016769727223291363,&quot;percentage str&quot;:&quot;0.02&quot;,&quot;def type&quot;:&quot;definterface&quot;},{&quot;_index&quot;:4,&quot;percentage&quot;:2.931853038576885,&quot;percentage str&quot;:&quot;2.93&quot;,&quot;def type&quot;:&quot;defmacro&quot;},{&quot;_index&quot;:5,&quot;percentage&quot;:0.8088544159738978,&quot;percentage str&quot;:&quot;0.81&quot;,&quot;def type&quot;:&quot;defmulti&quot;},{&quot;_index&quot;:6,&quot;percentage&quot;:63.55620789251745,&quot;percentage str&quot;:&quot;63.56&quot;,&quot;def type&quot;:&quot;defn&quot;},{&quot;_index&quot;:7,&quot;percentage&quot;:0.9233932810378345,&quot;percentage str&quot;:&quot;0.92&quot;,&quot;def type&quot;:&quot;defonce&quot;},{&quot;_index&quot;:8,&quot;percentage&quot;:3.8424655080901724,&quot;percentage str&quot;:&quot;3.84&quot;,&quot;def type&quot;:&quot;defprotocol&quot;},{&quot;_index&quot;:9,&quot;percentage&quot;:3.2857268455654656,&quot;percentage str&quot;:&quot;3.29&quot;,&quot;def type&quot;:&quot;defrecord&quot;},{&quot;_index&quot;:10,&quot;percentage&quot;:0.9106124695132871,&quot;percentage str&quot;:&quot;0.91&quot;,&quot;def type&quot;:&quot;deftype&quot;}]},&quot;layer&quot;:[{&quot;mark&quot;:&quot;bar&quot;},{&quot;mark&quot;:{&quot;type&quot;:&quot;text&quot;,&quot;align&quot;:&quot;left&quot;,&quot;baseline&quot;:&quot;middle&quot;,&quot;dx&quot;:3},&quot;encoding&quot;:{&quot;text&quot;:{&quot;field&quot;:&quot;percentage str&quot;,&quot;type&quot;:&quot;nominal&quot;}}}],&quot;encoding&quot;:{&quot;x&quot;:{&quot;field&quot;:&quot;percentage&quot;,&quot;type&quot;:&quot;quantitative&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;def type&quot;,&quot;type&quot;:&quot;nominal&quot;,&quot;sort&quot;:{&quot;field&quot;:&quot;percentage&quot;,&quot;op&quot;:&quot;max&quot;}}}};
      vegaEmbed(&apos;#viz_21750&apos;, yourVlSpec_viz_21750, {actions: false});
    &lt;/script&gt;</div><p><strong>total var definitions</strong>: 1,228,404</p><p>Most var definitions are functions. No surprise. I am sort of surprised that over 20% of vars are <code>def</code>s. What are people <code>def</code>ing all over the place? That&apos;s something I would like to follow up on at some point.</p><p>I consider <code>defprotocol</code> to be an important, fundamental building block, so to see that <code>defmacro</code> usage (2.93%) is similar to <code>defprotocol</code> usage (3.84%) is interesting.</p><h2 id="Lein-vs-deps">Lein vs deps</h2><div style="width:100%;overflow:scroll;">
&lt;div id=&quot;viz_21751&quot;&gt;&lt;/div&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
      var yourVlSpec_viz_21751 = {&quot;$schema&quot;:&quot;https:\/\/vega.github.io\/schema\/vega-lite\/v5.json&quot;,&quot;description&quot;:null,&quot;data&quot;:{&quot;values&quot;:[{&quot;_index&quot;:0,&quot;count&quot;:9790,&quot;count str&quot;:&quot;9,790&quot;,&quot;project type&quot;:&quot;lein&quot;},{&quot;_index&quot;:1,&quot;count&quot;:1405,&quot;count str&quot;:&quot;1,405&quot;,&quot;project type&quot;:&quot;deps&quot;},{&quot;_index&quot;:2,&quot;count&quot;:505,&quot;count str&quot;:&quot;505&quot;,&quot;project type&quot;:&quot;deps+lein&quot;},{&quot;_index&quot;:3,&quot;count&quot;:1574,&quot;count str&quot;:&quot;1,574&quot;,&quot;project type&quot;:&quot;neither&quot;}]},&quot;layer&quot;:[{&quot;mark&quot;:&quot;bar&quot;},{&quot;mark&quot;:{&quot;type&quot;:&quot;text&quot;,&quot;align&quot;:&quot;left&quot;,&quot;baseline&quot;:&quot;middle&quot;,&quot;dx&quot;:3},&quot;encoding&quot;:{&quot;text&quot;:{&quot;field&quot;:&quot;count str&quot;,&quot;type&quot;:&quot;nominal&quot;}}}],&quot;encoding&quot;:{&quot;x&quot;:{&quot;field&quot;:&quot;count&quot;,&quot;type&quot;:&quot;quantitative&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;project type&quot;,&quot;type&quot;:&quot;nominal&quot;,&quot;sort&quot;:{&quot;field&quot;:&quot;count&quot;,&quot;op&quot;:&quot;max&quot;}}}};
      vegaEmbed(&apos;#viz_21751&apos;, yourVlSpec_viz_21751, {actions: false});
    &lt;/script&gt;</div><p>These numbers don&apos;t directly match the latest <a href="https://clojure.org/news/2022/06/02/state-of-clojure-2022">state of clojure</a> numbers (ie. over 50% deps.edn usage), but I don&apos;t think they&apos;re inconsistent since clojure repositories on github will be weighted towards older projects.</p><p>The &quot;neither&quot; category means that no <code>deps.edn</code> or <code>project.clj</code> file was found. Many of them were shadow-cljs projects. Detecting other build tools would be a good improvement in the future.</p><h2 id="Local-names">Local names</h2><p>Clojurians like using short local variable names and this proves it!</p><h3 id="Local-name-lengths">Local name lengths</h3><div style="width:100%;overflow:scroll;">
&lt;div id=&quot;viz_21752&quot;&gt;&lt;/div&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
      var yourVlSpec_viz_21752 = {&quot;$schema&quot;:&quot;https:\/\/vega.github.io\/schema\/vega-lite\/v5.json&quot;,&quot;description&quot;:null,&quot;data&quot;:{&quot;values&quot;:[{&quot;_index&quot;:0,&quot;count&quot;:757732,&quot;count str&quot;:&quot;757,732&quot;,&quot;local name length&quot;:&quot;1&quot;},{&quot;_index&quot;:1,&quot;count&quot;:257745,&quot;count str&quot;:&quot;257,745&quot;,&quot;local name length&quot;:&quot;2&quot;},{&quot;_index&quot;:2,&quot;count&quot;:348750,&quot;count str&quot;:&quot;348,750&quot;,&quot;local name length&quot;:&quot;3&quot;},{&quot;_index&quot;:3,&quot;count&quot;:628377,&quot;count str&quot;:&quot;628,377&quot;,&quot;local name length&quot;:&quot;4&quot;},{&quot;_index&quot;:4,&quot;count&quot;:155951,&quot;count str&quot;:&quot;155,951&quot;,&quot;local name length&quot;:&quot;\&quot;_\&quot;&quot;},{&quot;_index&quot;:5,&quot;count&quot;:362796,&quot;count str&quot;:&quot;362,796&quot;,&quot;local name length&quot;:&quot;5&quot;},{&quot;_index&quot;:6,&quot;count&quot;:303371,&quot;count str&quot;:&quot;303,371&quot;,&quot;local name length&quot;:&quot;6&quot;},{&quot;_index&quot;:7,&quot;count&quot;:273346,&quot;count str&quot;:&quot;273,346&quot;,&quot;local name length&quot;:&quot;7&quot;},{&quot;_index&quot;:8,&quot;count&quot;:213330,&quot;count str&quot;:&quot;213,330&quot;,&quot;local name length&quot;:&quot;8&quot;},{&quot;_index&quot;:9,&quot;count&quot;:171295,&quot;count str&quot;:&quot;171,295&quot;,&quot;local name length&quot;:&quot;9&quot;},{&quot;_index&quot;:10,&quot;count&quot;:140454,&quot;count str&quot;:&quot;140,454&quot;,&quot;local name length&quot;:&quot;10&quot;},{&quot;_index&quot;:11,&quot;count&quot;:103798,&quot;count str&quot;:&quot;103,798&quot;,&quot;local name length&quot;:&quot;11&quot;},{&quot;_index&quot;:12,&quot;count&quot;:81235,&quot;count str&quot;:&quot;81,235&quot;,&quot;local name length&quot;:&quot;12&quot;},{&quot;_index&quot;:13,&quot;count&quot;:62657,&quot;count str&quot;:&quot;62,657&quot;,&quot;local name length&quot;:&quot;13&quot;},{&quot;_index&quot;:14,&quot;count&quot;:44340,&quot;count str&quot;:&quot;44,340&quot;,&quot;local name length&quot;:&quot;14&quot;},{&quot;_index&quot;:15,&quot;count&quot;:35847,&quot;count str&quot;:&quot;35,847&quot;,&quot;local name length&quot;:&quot;15&quot;},{&quot;_index&quot;:16,&quot;count&quot;:29827,&quot;count str&quot;:&quot;29,827&quot;,&quot;local name length&quot;:&quot;16&quot;},{&quot;_index&quot;:17,&quot;count&quot;:18797,&quot;count str&quot;:&quot;18,797&quot;,&quot;local name length&quot;:&quot;17&quot;},{&quot;_index&quot;:18,&quot;count&quot;:13279,&quot;count str&quot;:&quot;13,279&quot;,&quot;local name length&quot;:&quot;18&quot;},{&quot;_index&quot;:19,&quot;count&quot;:10194,&quot;count str&quot;:&quot;10,194&quot;,&quot;local name length&quot;:&quot;19&quot;},{&quot;_index&quot;:20,&quot;count&quot;:7604,&quot;count str&quot;:&quot;7,604&quot;,&quot;local name length&quot;:&quot;20&quot;},{&quot;_index&quot;:21,&quot;count&quot;:11310,&quot;count str&quot;:&quot;11,310&quot;,&quot;local name length&quot;:&quot;21&quot;},{&quot;_index&quot;:22,&quot;count&quot;:4581,&quot;count str&quot;:&quot;4,581&quot;,&quot;local name length&quot;:&quot;22&quot;},{&quot;_index&quot;:23,&quot;count&quot;:3387,&quot;count str&quot;:&quot;3,387&quot;,&quot;local name length&quot;:&quot;23&quot;},{&quot;_index&quot;:24,&quot;count&quot;:3257,&quot;count str&quot;:&quot;3,257&quot;,&quot;local name length&quot;:&quot;24&quot;},{&quot;_index&quot;:25,&quot;count&quot;:1549,&quot;count str&quot;:&quot;1,549&quot;,&quot;local name length&quot;:&quot;25&quot;},{&quot;_index&quot;:26,&quot;count&quot;:1316,&quot;count str&quot;:&quot;1,316&quot;,&quot;local name length&quot;:&quot;26&quot;},{&quot;_index&quot;:27,&quot;count&quot;:1225,&quot;count str&quot;:&quot;1,225&quot;,&quot;local name length&quot;:&quot;27&quot;},{&quot;_index&quot;:28,&quot;count&quot;:753,&quot;count str&quot;:&quot;753&quot;,&quot;local name length&quot;:&quot;28&quot;},{&quot;_index&quot;:29,&quot;count&quot;:655,&quot;count str&quot;:&quot;655&quot;,&quot;local name length&quot;:&quot;29&quot;},{&quot;_index&quot;:30,&quot;count&quot;:569,&quot;count str&quot;:&quot;569&quot;,&quot;local name length&quot;:&quot;30&quot;},{&quot;_index&quot;:31,&quot;count&quot;:349,&quot;count str&quot;:&quot;349&quot;,&quot;local name length&quot;:&quot;31&quot;},{&quot;_index&quot;:32,&quot;count&quot;:386,&quot;count str&quot;:&quot;386&quot;,&quot;local name length&quot;:&quot;32&quot;},{&quot;_index&quot;:33,&quot;count&quot;:191,&quot;count str&quot;:&quot;191&quot;,&quot;local name length&quot;:&quot;33&quot;},{&quot;_index&quot;:34,&quot;count&quot;:188,&quot;count str&quot;:&quot;188&quot;,&quot;local name length&quot;:&quot;34&quot;},{&quot;_index&quot;:35,&quot;count&quot;:141,&quot;count str&quot;:&quot;141&quot;,&quot;local name length&quot;:&quot;35&quot;},{&quot;_index&quot;:36,&quot;count&quot;:192,&quot;count str&quot;:&quot;192&quot;,&quot;local name length&quot;:&quot;36&quot;},{&quot;_index&quot;:37,&quot;count&quot;:252,&quot;count str&quot;:&quot;252&quot;,&quot;local name length&quot;:&quot;37&quot;},{&quot;_index&quot;:38,&quot;count&quot;:104,&quot;count str&quot;:&quot;104&quot;,&quot;local name length&quot;:&quot;38&quot;},{&quot;_index&quot;:39,&quot;count&quot;:103,&quot;count str&quot;:&quot;103&quot;,&quot;local name length&quot;:&quot;39&quot;},{&quot;_index&quot;:40,&quot;count&quot;:124,&quot;count str&quot;:&quot;124&quot;,&quot;local name length&quot;:&quot;40&quot;},{&quot;_index&quot;:41,&quot;count&quot;:38,&quot;count str&quot;:&quot;38&quot;,&quot;local name length&quot;:&quot;41&quot;},{&quot;_index&quot;:42,&quot;count&quot;:23,&quot;count str&quot;:&quot;23&quot;,&quot;local name length&quot;:&quot;42&quot;},{&quot;_index&quot;:43,&quot;count&quot;:19,&quot;count str&quot;:&quot;19&quot;,&quot;local name length&quot;:&quot;43&quot;},{&quot;_index&quot;:44,&quot;count&quot;:14,&quot;count str&quot;:&quot;14&quot;,&quot;local name length&quot;:&quot;44&quot;},{&quot;_index&quot;:45,&quot;count&quot;:10,&quot;count str&quot;:&quot;10&quot;,&quot;local name length&quot;:&quot;45&quot;},{&quot;_index&quot;:46,&quot;count&quot;:11,&quot;count str&quot;:&quot;11&quot;,&quot;local name length&quot;:&quot;46&quot;},{&quot;_index&quot;:47,&quot;count&quot;:5,&quot;count str&quot;:&quot;5&quot;,&quot;local name length&quot;:&quot;47&quot;},{&quot;_index&quot;:48,&quot;count&quot;:14,&quot;count str&quot;:&quot;14&quot;,&quot;local name length&quot;:&quot;48&quot;},{&quot;_index&quot;:49,&quot;count&quot;:6,&quot;count str&quot;:&quot;6&quot;,&quot;local name length&quot;:&quot;49&quot;},{&quot;_index&quot;:50,&quot;count&quot;:7,&quot;count str&quot;:&quot;7&quot;,&quot;local name length&quot;:&quot;50&quot;},{&quot;_index&quot;:51,&quot;count&quot;:2,&quot;count str&quot;:&quot;2&quot;,&quot;local name length&quot;:&quot;51&quot;},{&quot;_index&quot;:52,&quot;count&quot;:3,&quot;count str&quot;:&quot;3&quot;,&quot;local name length&quot;:&quot;52&quot;},{&quot;_index&quot;:53,&quot;count&quot;:1,&quot;count str&quot;:&quot;1&quot;,&quot;local name length&quot;:&quot;53&quot;},{&quot;_index&quot;:54,&quot;count&quot;:1,&quot;count str&quot;:&quot;1&quot;,&quot;local name length&quot;:&quot;54&quot;},{&quot;_index&quot;:55,&quot;count&quot;:2,&quot;count str&quot;:&quot;2&quot;,&quot;local name length&quot;:&quot;56&quot;},{&quot;_index&quot;:56,&quot;count&quot;:3,&quot;count str&quot;:&quot;3&quot;,&quot;local name length&quot;:&quot;59&quot;},{&quot;_index&quot;:57,&quot;count&quot;:1,&quot;count str&quot;:&quot;1&quot;,&quot;local name length&quot;:&quot;61&quot;},{&quot;_index&quot;:58,&quot;count&quot;:1,&quot;count str&quot;:&quot;1&quot;,&quot;local name length&quot;:&quot;62&quot;}]},&quot;layer&quot;:[{&quot;mark&quot;:&quot;bar&quot;},{&quot;mark&quot;:{&quot;type&quot;:&quot;text&quot;,&quot;align&quot;:&quot;left&quot;,&quot;baseline&quot;:&quot;middle&quot;,&quot;dx&quot;:3},&quot;encoding&quot;:{&quot;text&quot;:{&quot;field&quot;:&quot;count str&quot;,&quot;type&quot;:&quot;nominal&quot;}}}],&quot;encoding&quot;:{&quot;x&quot;:{&quot;field&quot;:&quot;count&quot;,&quot;type&quot;:&quot;quantitative&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;local name length&quot;,&quot;type&quot;:&quot;nominal&quot;,&quot;sort&quot;:{&quot;field&quot;:&quot;count&quot;,&quot;op&quot;:&quot;max&quot;}}}};
      vegaEmbed(&apos;#viz_21752&apos;, yourVlSpec_viz_21752, {actions: false});
    &lt;/script&gt;</div><p>The most common local name is <code>_</code> with 155,951 followed by <code>this</code> at 92,296. I&apos;m not sure what it says that 4% of locals are throw aways. What a waste.</p><h3 id="Local-binding-names-that-are-a-single-letter">Local binding names that are a single letter</h3><div style="width:100%;overflow:scroll;">
&lt;div id=&quot;viz_21753&quot;&gt;&lt;/div&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
      var yourVlSpec_viz_21753 = {&quot;$schema&quot;:&quot;https:\/\/vega.github.io\/schema\/vega-lite\/v5.json&quot;,&quot;description&quot;:null,&quot;data&quot;:{&quot;values&quot;:[{&quot;_index&quot;:0,&quot;count&quot;:2,&quot;count str&quot;:&quot;2&quot;,&quot;local name&quot;:&quot;\ucd9c&quot;},{&quot;_index&quot;:1,&quot;count&quot;:2,&quot;count str&quot;:&quot;2&quot;,&quot;local name&quot;:&quot;\uc785&quot;},{&quot;_index&quot;:2,&quot;count&quot;:2,&quot;count str&quot;:&quot;2&quot;,&quot;local name&quot;:&quot;\uac12&quot;},{&quot;_index&quot;:3,&quot;count&quot;:3,&quot;count str&quot;:&quot;3&quot;,&quot;local name&quot;:&quot;\u2733&quot;},{&quot;_index&quot;:4,&quot;count&quot;:2,&quot;count str&quot;:&quot;2&quot;,&quot;local name&quot;:&quot;\u0b86&quot;},{&quot;_index&quot;:5,&quot;count&quot;:1,&quot;count str&quot;:&quot;1&quot;,&quot;local name&quot;:&quot;\u0441&quot;},{&quot;_index&quot;:6,&quot;count&quot;:2,&quot;count str&quot;:&quot;2&quot;,&quot;local name&quot;:&quot;\u03f5&quot;},{&quot;_index&quot;:7,&quot;count&quot;:12,&quot;count str&quot;:&quot;12&quot;,&quot;local name&quot;:&quot;\u03d5&quot;},{&quot;_index&quot;:8,&quot;count&quot;:6,&quot;count str&quot;:&quot;6&quot;,&quot;local name&quot;:&quot;\u03c9&quot;},{&quot;_index&quot;:9,&quot;count&quot;:11,&quot;count str&quot;:&quot;11&quot;,&quot;local name&quot;:&quot;\u03c8&quot;},{&quot;_index&quot;:10,&quot;count&quot;:34,&quot;count str&quot;:&quot;34&quot;,&quot;local name&quot;:&quot;\u03c6&quot;},{&quot;_index&quot;:11,&quot;count&quot;:3,&quot;count str&quot;:&quot;3&quot;,&quot;local name&quot;:&quot;\u03c4&quot;},{&quot;_index&quot;:12,&quot;count&quot;:34,&quot;count str&quot;:&quot;34&quot;,&quot;local name&quot;:&quot;\u03c3&quot;},{&quot;_index&quot;:13,&quot;count&quot;:2,&quot;count str&quot;:&quot;2&quot;,&quot;local name&quot;:&quot;\u03c1&quot;},{&quot;_index&quot;:14,&quot;count&quot;:2,&quot;count str&quot;:&quot;2&quot;,&quot;local name&quot;:&quot;\u03c0&quot;},{&quot;_index&quot;:15,&quot;count&quot;:4,&quot;count str&quot;:&quot;4&quot;,&quot;local name&quot;:&quot;\u03bc&quot;},{&quot;_index&quot;:16,&quot;count&quot;:5,&quot;count str&quot;:&quot;5&quot;,&quot;local name&quot;:&quot;\u03bb&quot;},{&quot;_index&quot;:17,&quot;count&quot;:1,&quot;count str&quot;:&quot;1&quot;,&quot;local name&quot;:&quot;\u03ba&quot;},{&quot;_index&quot;:18,&quot;count&quot;:98,&quot;count str&quot;:&quot;98&quot;,&quot;local name&quot;:&quot;\u03b8&quot;},{&quot;_index&quot;:19,&quot;count&quot;:1,&quot;count str&quot;:&quot;1&quot;,&quot;local name&quot;:&quot;\u03b7&quot;},{&quot;_index&quot;:20,&quot;count&quot;:17,&quot;count str&quot;:&quot;17&quot;,&quot;local name&quot;:&quot;\u03b5&quot;},{&quot;_index&quot;:21,&quot;count&quot;:21,&quot;count str&quot;:&quot;21&quot;,&quot;local name&quot;:&quot;\u03b4&quot;},{&quot;_index&quot;:22,&quot;count&quot;:10,&quot;count str&quot;:&quot;10&quot;,&quot;local name&quot;:&quot;\u03b3&quot;},{&quot;_index&quot;:23,&quot;count&quot;:11,&quot;count str&quot;:&quot;11&quot;,&quot;local name&quot;:&quot;\u03b2&quot;},{&quot;_index&quot;:24,&quot;count&quot;:38,&quot;count str&quot;:&quot;38&quot;,&quot;local name&quot;:&quot;\u03b1&quot;},{&quot;_index&quot;:25,&quot;count&quot;:3,&quot;count str&quot;:&quot;3&quot;,&quot;local name&quot;:&quot;\u03a9&quot;},{&quot;_index&quot;:26,&quot;count&quot;:8,&quot;count str&quot;:&quot;8&quot;,&quot;local name&quot;:&quot;\u03a3&quot;},{&quot;_index&quot;:27,&quot;count&quot;:1,&quot;count str&quot;:&quot;1&quot;,&quot;local name&quot;:&quot;\u03a0&quot;},{&quot;_index&quot;:28,&quot;count&quot;:3,&quot;count str&quot;:&quot;3&quot;,&quot;local name&quot;:&quot;\u0394&quot;},{&quot;_index&quot;:29,&quot;count&quot;:2,&quot;count str&quot;:&quot;2&quot;,&quot;local name&quot;:&quot;\u00f8&quot;},{&quot;_index&quot;:30,&quot;count&quot;:20,&quot;count str&quot;:&quot;20&quot;,&quot;local name&quot;:&quot;|&quot;},{&quot;_index&quot;:31,&quot;count&quot;:4145,&quot;count str&quot;:&quot;4,145&quot;,&quot;local name&quot;:&quot;z&quot;},{&quot;_index&quot;:32,&quot;count&quot;:27908,&quot;count str&quot;:&quot;27,908&quot;,&quot;local name&quot;:&quot;y&quot;},{&quot;_index&quot;:33,&quot;count&quot;:75792,&quot;count str&quot;:&quot;75,792&quot;,&quot;local name&quot;:&quot;x&quot;},{&quot;_index&quot;:34,&quot;count&quot;:8251,&quot;count str&quot;:&quot;8,251&quot;,&quot;local name&quot;:&quot;w&quot;},{&quot;_index&quot;:35,&quot;count&quot;:50609,&quot;count str&quot;:&quot;50,609&quot;,&quot;local name&quot;:&quot;v&quot;},{&quot;_index&quot;:36,&quot;count&quot;:2805,&quot;count str&quot;:&quot;2,805&quot;,&quot;local name&quot;:&quot;u&quot;},{&quot;_index&quot;:37,&quot;count&quot;:16770,&quot;count str&quot;:&quot;16,770&quot;,&quot;local name&quot;:&quot;t&quot;},{&quot;_index&quot;:38,&quot;count&quot;:38352,&quot;count str&quot;:&quot;38,352&quot;,&quot;local name&quot;:&quot;s&quot;},{&quot;_index&quot;:39,&quot;count&quot;:14911,&quot;count str&quot;:&quot;14,911&quot;,&quot;local name&quot;:&quot;r&quot;},{&quot;_index&quot;:40,&quot;count&quot;:5564,&quot;count str&quot;:&quot;5,564&quot;,&quot;local name&quot;:&quot;q&quot;},{&quot;_index&quot;:41,&quot;count&quot;:16929,&quot;count str&quot;:&quot;16,929&quot;,&quot;local name&quot;:&quot;p&quot;},{&quot;_index&quot;:42,&quot;count&quot;:8306,&quot;count str&quot;:&quot;8,306&quot;,&quot;local name&quot;:&quot;o&quot;},{&quot;_index&quot;:43,&quot;count&quot;:29860,&quot;count str&quot;:&quot;29,860&quot;,&quot;local name&quot;:&quot;n&quot;},{&quot;_index&quot;:44,&quot;count&quot;:35856,&quot;count str&quot;:&quot;35,856&quot;,&quot;local name&quot;:&quot;m&quot;},{&quot;_index&quot;:45,&quot;count&quot;:6066,&quot;count str&quot;:&quot;6,066&quot;,&quot;local name&quot;:&quot;l&quot;},{&quot;_index&quot;:46,&quot;count&quot;:43163,&quot;count str&quot;:&quot;43,163&quot;,&quot;local name&quot;:&quot;k&quot;},{&quot;_index&quot;:47,&quot;count&quot;:3849,&quot;count str&quot;:&quot;3,849&quot;,&quot;local name&quot;:&quot;j&quot;},{&quot;_index&quot;:48,&quot;count&quot;:20805,&quot;count str&quot;:&quot;20,805&quot;,&quot;local name&quot;:&quot;i&quot;},{&quot;_index&quot;:49,&quot;count&quot;:7044,&quot;count str&quot;:&quot;7,044&quot;,&quot;local name&quot;:&quot;h&quot;},{&quot;_index&quot;:50,&quot;count&quot;:9868,&quot;count str&quot;:&quot;9,868&quot;,&quot;local name&quot;:&quot;g&quot;},{&quot;_index&quot;:51,&quot;count&quot;:41873,&quot;count str&quot;:&quot;41,873&quot;,&quot;local name&quot;:&quot;f&quot;},{&quot;_index&quot;:52,&quot;count&quot;:35583,&quot;count str&quot;:&quot;35,583&quot;,&quot;local name&quot;:&quot;e&quot;},{&quot;_index&quot;:53,&quot;count&quot;:11255,&quot;count str&quot;:&quot;11,255&quot;,&quot;local name&quot;:&quot;d&quot;},{&quot;_index&quot;:54,&quot;count&quot;:23209,&quot;count str&quot;:&quot;23,209&quot;,&quot;local name&quot;:&quot;c&quot;},{&quot;_index&quot;:55,&quot;count&quot;:23039,&quot;count str&quot;:&quot;23,039&quot;,&quot;local name&quot;:&quot;b&quot;},{&quot;_index&quot;:56,&quot;count&quot;:32925,&quot;count str&quot;:&quot;32,925&quot;,&quot;local name&quot;:&quot;a&quot;},{&quot;_index&quot;:57,&quot;count&quot;:155951,&quot;count str&quot;:&quot;155,951&quot;,&quot;local name&quot;:&quot;_&quot;},{&quot;_index&quot;:58,&quot;count&quot;:51,&quot;count str&quot;:&quot;51&quot;,&quot;local name&quot;:&quot;Z&quot;},{&quot;_index&quot;:59,&quot;count&quot;:373,&quot;count str&quot;:&quot;373&quot;,&quot;local name&quot;:&quot;Y&quot;},{&quot;_index&quot;:60,&quot;count&quot;:650,&quot;count str&quot;:&quot;650&quot;,&quot;local name&quot;:&quot;X&quot;},{&quot;_index&quot;:61,&quot;count&quot;:62,&quot;count str&quot;:&quot;62&quot;,&quot;local name&quot;:&quot;W&quot;},{&quot;_index&quot;:62,&quot;count&quot;:171,&quot;count str&quot;:&quot;171&quot;,&quot;local name&quot;:&quot;V&quot;},{&quot;_index&quot;:63,&quot;count&quot;:84,&quot;count str&quot;:&quot;84&quot;,&quot;local name&quot;:&quot;U&quot;},{&quot;_index&quot;:64,&quot;count&quot;:248,&quot;count str&quot;:&quot;248&quot;,&quot;local name&quot;:&quot;T&quot;},{&quot;_index&quot;:65,&quot;count&quot;:608,&quot;count str&quot;:&quot;608&quot;,&quot;local name&quot;:&quot;S&quot;},{&quot;_index&quot;:66,&quot;count&quot;:218,&quot;count str&quot;:&quot;218&quot;,&quot;local name&quot;:&quot;R&quot;},{&quot;_index&quot;:67,&quot;count&quot;:116,&quot;count str&quot;:&quot;116&quot;,&quot;local name&quot;:&quot;Q&quot;},{&quot;_index&quot;:68,&quot;count&quot;:181,&quot;count str&quot;:&quot;181&quot;,&quot;local name&quot;:&quot;P&quot;},{&quot;_index&quot;:69,&quot;count&quot;:22,&quot;count str&quot;:&quot;22&quot;,&quot;local name&quot;:&quot;O&quot;},{&quot;_index&quot;:70,&quot;count&quot;:309,&quot;count str&quot;:&quot;309&quot;,&quot;local name&quot;:&quot;N&quot;},{&quot;_index&quot;:71,&quot;count&quot;:379,&quot;count str&quot;:&quot;379&quot;,&quot;local name&quot;:&quot;M&quot;},{&quot;_index&quot;:72,&quot;count&quot;:204,&quot;count str&quot;:&quot;204&quot;,&quot;local name&quot;:&quot;L&quot;},{&quot;_index&quot;:73,&quot;count&quot;:91,&quot;count str&quot;:&quot;91&quot;,&quot;local name&quot;:&quot;K&quot;},{&quot;_index&quot;:74,&quot;count&quot;:40,&quot;count str&quot;:&quot;40&quot;,&quot;local name&quot;:&quot;J&quot;},{&quot;_index&quot;:75,&quot;count&quot;:68,&quot;count str&quot;:&quot;68&quot;,&quot;local name&quot;:&quot;I&quot;},{&quot;_index&quot;:76,&quot;count&quot;:98,&quot;count str&quot;:&quot;98&quot;,&quot;local name&quot;:&quot;H&quot;},{&quot;_index&quot;:77,&quot;count&quot;:95,&quot;count str&quot;:&quot;95&quot;,&quot;local name&quot;:&quot;G&quot;},{&quot;_index&quot;:78,&quot;count&quot;:105,&quot;count str&quot;:&quot;105&quot;,&quot;local name&quot;:&quot;F&quot;},{&quot;_index&quot;:79,&quot;count&quot;:132,&quot;count str&quot;:&quot;132&quot;,&quot;local name&quot;:&quot;E&quot;},{&quot;_index&quot;:80,&quot;count&quot;:134,&quot;count str&quot;:&quot;134&quot;,&quot;local name&quot;:&quot;D&quot;},{&quot;_index&quot;:81,&quot;count&quot;:294,&quot;count str&quot;:&quot;294&quot;,&quot;local name&quot;:&quot;C&quot;},{&quot;_index&quot;:82,&quot;count&quot;:302,&quot;count str&quot;:&quot;302&quot;,&quot;local name&quot;:&quot;B&quot;},{&quot;_index&quot;:83,&quot;count&quot;:611,&quot;count str&quot;:&quot;611&quot;,&quot;local name&quot;:&quot;A&quot;},{&quot;_index&quot;:84,&quot;count&quot;:36,&quot;count str&quot;:&quot;36&quot;,&quot;local name&quot;:&quot;?&quot;},{&quot;_index&quot;:85,&quot;count&quot;:3,&quot;count str&quot;:&quot;3&quot;,&quot;local name&quot;:&quot;&gt;&quot;},{&quot;_index&quot;:86,&quot;count&quot;:4,&quot;count str&quot;:&quot;4&quot;,&quot;local name&quot;:&quot;=&quot;},{&quot;_index&quot;:87,&quot;count&quot;:3,&quot;count str&quot;:&quot;3&quot;,&quot;local name&quot;:&quot;&lt;&quot;},{&quot;_index&quot;:88,&quot;count&quot;:15,&quot;count str&quot;:&quot;15&quot;,&quot;local name&quot;:&quot;-&quot;},{&quot;_index&quot;:89,&quot;count&quot;:18,&quot;count str&quot;:&quot;18&quot;,&quot;local name&quot;:&quot;+&quot;},{&quot;_index&quot;:90,&quot;count&quot;:60,&quot;count str&quot;:&quot;60&quot;,&quot;local name&quot;:&quot;*&quot;},{&quot;_index&quot;:91,&quot;count&quot;:123,&quot;count str&quot;:&quot;123&quot;,&quot;local name&quot;:&quot;%&quot;},{&quot;_index&quot;:92,&quot;count&quot;:757,&quot;count str&quot;:&quot;757&quot;,&quot;local name&quot;:&quot;$&quot;},{&quot;_index&quot;:93,&quot;count&quot;:18,&quot;count str&quot;:&quot;18&quot;,&quot;local name&quot;:&quot;!&quot;}]},&quot;layer&quot;:[{&quot;mark&quot;:&quot;bar&quot;},{&quot;mark&quot;:{&quot;type&quot;:&quot;text&quot;,&quot;align&quot;:&quot;left&quot;,&quot;baseline&quot;:&quot;middle&quot;,&quot;dx&quot;:3},&quot;encoding&quot;:{&quot;text&quot;:{&quot;field&quot;:&quot;count str&quot;,&quot;type&quot;:&quot;nominal&quot;}}}],&quot;encoding&quot;:{&quot;x&quot;:{&quot;field&quot;:&quot;count&quot;,&quot;type&quot;:&quot;quantitative&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;local name&quot;,&quot;type&quot;:&quot;nominal&quot;,&quot;sort&quot;:{&quot;field&quot;:&quot;local name&quot;,&quot;op&quot;:&quot;max&quot;}}}};
      vegaEmbed(&apos;#viz_21753&apos;, yourVlSpec_viz_21753, {actions: false});
    &lt;/script&gt;</div><p>I couldn&apos;t find an official reference for what single character symbols are supported by clojure, but the <a href="https://github.com/edn-format/edn#symbols">edn spec</a> states that:</p><blockquote class="blockquote"><p>Symbols begin with a non-numeric character and can contain alphanumeric characters and <code>. * + ! - _ ? $ % &amp; = &lt; &gt;</code></p></blockquote><p>I like the idea of using Greek letters as locals, but I find using <code>|</code> or <code>!</code> as locals offensive.</p><blockquote class="blockquote"><p>Additionally, <code>:</code> and <code>#</code> are allowed as constituent characters in symbols other than as the first character.</p></blockquote><p>Does anybody do that? Well, there&apos;s only a single local that contains <code>#</code> in the name other than at the very end (which is used by syntax quote), but 21 repositories use locals with <code>:</code> in the name. It&apos;s not something I&apos;ve thought a lot about before, but now that I know that I can...</p><h2 id="Emoji-and-unicode-in-names">Emoji and unicode in names</h2><p>It&apos;s not clear if using emoji and unicode as var names is officially supported, but it&apos;s also not clear if it&apos;s not not supported<sup><a href="#footnote-6" name="footnote-ref-6" title="Clearly">6</a></sup>. I mean, it works when you type it into the repl:</p><div class="syntax"><pre><span class="symbol">user&gt;</span> <span class="s-exp">(</span><span class="special-form">def</span> <span class="symbol">😊</span> <span class="number">42</span><span class="s-exp">)</span>
<span class="reader-char">#&apos;</span><span class="symbol">user/😊</span>
<span class="symbol">user&gt;</span> <span class="s-exp">(</span><span class="core-fn">+</span> <span class="symbol">😊</span> <span class="symbol">😊</span><span class="s-exp">)</span>
<span class="number">84</span>
</pre></div><p>I&apos;m not saying it&apos;s a good idea. Anyway, there are 25 brave repositories that use emoji/unicode in var definition names. There is a single namespace that includes unicode.</p><p>Usages range from <a href="https://github.com/adereth/unicode-math">questionable</a> to <a href="https://github.com/jstepien/flip">╯°□°╯ ┻━┻</a>.</p><h1 id="Failed-Analyses">Failed Analyses</h1><p>For the 13% of repositories that aren&apos;t included, what went wrong?</p><div style="width:100%;overflow:scroll;">
&lt;div id=&quot;viz_21754&quot;&gt;&lt;/div&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
      var yourVlSpec_viz_21754 = {&quot;$schema&quot;:&quot;https:\/\/vega.github.io\/schema\/vega-lite\/v5.json&quot;,&quot;description&quot;:null,&quot;data&quot;:{&quot;values&quot;:[{&quot;_index&quot;:0,&quot;count&quot;:1398,&quot;count str&quot;:&quot;1,398&quot;,&quot;fail type&quot;:&quot;:empty-analyses&quot;},{&quot;_index&quot;:1,&quot;count&quot;:31,&quot;count str&quot;:&quot;31&quot;,&quot;fail type&quot;:&quot;:max-bytes-limit-exceeded&quot;},{&quot;_index&quot;:2,&quot;count&quot;:45,&quot;count str&quot;:&quot;45&quot;,&quot;fail type&quot;:&quot;java.lang.RuntimeException&quot;},{&quot;_index&quot;:3,&quot;count&quot;:12,&quot;count str&quot;:&quot;12&quot;,&quot;fail type&quot;:&quot;java.lang.IllegalArgumentException&quot;},{&quot;_index&quot;:4,&quot;count&quot;:2,&quot;count str&quot;:&quot;2&quot;,&quot;fail type&quot;:&quot;java.lang.NumberFormatException&quot;},{&quot;_index&quot;:5,&quot;count&quot;:2,&quot;count str&quot;:&quot;2&quot;,&quot;fail type&quot;:&quot;java.util.concurrent.ExecutionException&quot;},{&quot;_index&quot;:6,&quot;count&quot;:10,&quot;count str&quot;:&quot;10&quot;,&quot;fail type&quot;:&quot;:download-error&quot;},{&quot;_index&quot;:7,&quot;count&quot;:62,&quot;count str&quot;:&quot;62&quot;,&quot;fail type&quot;:&quot;java.lang.OutOfMemoryError&quot;},{&quot;_index&quot;:8,&quot;count&quot;:4,&quot;count str&quot;:&quot;4&quot;,&quot;fail type&quot;:&quot;java.lang.InterruptedException&quot;},{&quot;_index&quot;:9,&quot;count&quot;:128,&quot;count str&quot;:&quot;128&quot;,&quot;fail type&quot;:&quot;:no-findings&quot;},{&quot;_index&quot;:10,&quot;count&quot;:1,&quot;count str&quot;:&quot;1&quot;,&quot;fail type&quot;:&quot;java.lang.ThreadDeath&quot;},{&quot;_index&quot;:11,&quot;count&quot;:6,&quot;count str&quot;:&quot;6&quot;,&quot;fail type&quot;:&quot;:read-error&quot;}]},&quot;layer&quot;:[{&quot;mark&quot;:&quot;bar&quot;},{&quot;mark&quot;:{&quot;type&quot;:&quot;text&quot;,&quot;align&quot;:&quot;left&quot;,&quot;baseline&quot;:&quot;middle&quot;,&quot;dx&quot;:3},&quot;encoding&quot;:{&quot;text&quot;:{&quot;field&quot;:&quot;count str&quot;,&quot;type&quot;:&quot;nominal&quot;}}}],&quot;encoding&quot;:{&quot;x&quot;:{&quot;field&quot;:&quot;count&quot;,&quot;type&quot;:&quot;quantitative&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;fail type&quot;,&quot;type&quot;:&quot;nominal&quot;,&quot;sort&quot;:{&quot;field&quot;:&quot;count&quot;,&quot;op&quot;:&quot;max&quot;}}}};
      vegaEmbed(&apos;#viz_21754&apos;, yourVlSpec_viz_21754, {actions: false});
    &lt;/script&gt;</div><p>In the future, I&apos;d like to do a better job of breaking down what errors happened during analysis, but here&apos;s the coarse breakdown for now.</p><p>Descriptions:</p><ul><li><p><code>:empty-analyses</code>: No analysis was produced. The most common (only?) reason is that no project files were found (only deps.edn and project.clj supported).</p></li><li><p><code>:no-findings</code>: Analysis succeeded without error, but no findings were found. In theory, this could mean that everything worked and there was just nothing to analyze, but I&apos;m assuming that it&apos;s an error for now.</p></li><li><p>various Exceptions: Exceptions thrown while trying to analyze a project.</p></li><li><p><code>:max-bytes-limit-exceeded</code>: Repository checkout was over file size limit (currently 100Mb).</p></li><li><p><code>:download-error</code>: An exception was thrown while trying to download the repository from github.</p></li><li><p><code>:read-error</code>: Analyses for each repository were saved to intermediate files before being aggregated. This error means the resulting analysis file was unreadable.</p></li></ul><h1 id="Biases">Biases</h1><p>I guess I wouldn&apos;t say the data is biased so much as unrefined. I tried simply looking at the &quot;most popular X&quot; among usages, but you get misleading results if you don&apos;t account for biases like:</p><ul><li><p>popular libraries have more forks which amplify their usage patterns</p></li><li><p>outliers: a single or small number of repositories that do &quot;weird&quot; things can skew simple counts and averages</p></li><li><p>copy and pasting: for a number reasons, shared code is sometimes added to a repository by copy and pasting the code into a library rather than referencing the code as a dependency.</p></li><li><p>example and test code: test/example code can often exhibit very different usage patterns than &quot;normal&quot; code.</p></li><li><p>failed analyses: around ~87% of repositories were successfully analyzed. That&apos;s not terrible, but the 13% of libraries that failed to produce analysis probably aren&apos;t uncorrelated which can introduce biases.</p></li></ul><p>Most of these biases are pretty straightforward to account for and will hopefully be addressed in future work.</p><h1 id="Future-Work">Future Work</h1><p>Most language ecosystems have figured out that directly supporting community repositories/tools like clojars is a big win. Based on some smart design choices by clojure, its maintainers, and the community, I think that clojure is well positioned to take advantage of tools that work at the ecosystem level. I&apos;m not totally sure what other ecosystem tools look like, but I have some ideas.</p><h2 id="Mundane-Improvements">Mundane Improvements</h2><p>While the vision is to work on innovative ecosystem tooling, many of the planned improvements are mundane:</p><ul><li><p>crawl other open-source hosts besides github</p></li><li><p>improve support for clojurescript and other clojure dialects</p></li><li><p>automate more of the data gathering and analysis</p></li></ul><h2 id="Use-a-database">Use a database</h2><p>Currently, the full analysis of every clojure repository is made available as a giant 600+ MB gzipped edn file. It would be great to make the data available in a more organized, structured, and queryable format (like a database).</p><h2 id="Example-Usages">Example Usages</h2><p>Examples for clojure functions can be illustrative. It should be possible to pull up examples for <em>any</em> function.</p><h2 id="Improved-Code-Search">Improved Code Search</h2><p>Github search is bad. <a href="https://grep.app/">grep.app</a> is better, but a search tool that only targets clojure code could be much, much better!</p><h2 id="JavaJavascript-Interop">Java/Javascript Interop</h2><p>One of the common roadblocks for learning clojure/clojurescript is that you eventually need some amount of host interop to be productive. Finding commonly used java/javascript host interop can provide valuable input for improving learning resources with common interop knowledge or creating wrapper libraries for frequently required host APIs.</p><h2 id="Clojure-Specs">Clojure Specs</h2><p>Afaict, specs are designed with a global, universal orientation in mind. We should build tooling that leverages and supports this. As a simple example, building a searchable database of all specs should be straightforward.</p><h2 id="N-grams">N-grams</h2><blockquote class="blockquote"><p>In the fields of computational linguistics and probability, an n-gram (sometimes also called Q-gram) is a contiguous sequence of n items from a given sample of text or speech.<br /><footer class="blockquote-footer"><a href="https://en.wikipedia.org/wiki/N-gram">N-grams Wikipedia</a></footer></p></blockquote><p>I&apos;m not exactly sure what I&apos;d expect to find, but it would be interesting to find common patterns and idioms in clojure code.</p><h2 id="Namespace-Alias-usage">Namespace Alias usage</h2><p>It&apos;s common to use an alias when requiring a namespace. Since aliases are short, it&apos;s easy for multiple libraries to &quot;claim&quot; the same alias. I&apos;d like to build a database of all namespace alias usage so that it&apos;s easier to pick a preferred alias for your library that is less likely to conflict. This is probably a dumb idea, but at least it&apos;s an easy dumb idea.</p><h1 id="Related-Work">Related Work</h1><ul><li><p><a href="https://ericnormand.me/article/100-most-used-clojure-expressions">100 Most Used Clojure Expressions</a></p></li><li><p><a href="https://github.com/devn/getclojure">getclojure</a></p></li><li><p><a href="https://github.com/fbellomi/crossclj">crossclj</a></p></li></ul><h1 id="Footnotes">Footnotes</h1><div class="footnotes"><div><a href="#footnote-ref-1" name="footnote-1">1</a>. Nine projects were excluded because they are ginormous by themselves.</div><div><a href="#footnote-ref-2" name="footnote-2">2</a>. Clj-kondo also allows you to write your own linters, but that will have to wait for a future update.</div><div><a href="#footnote-ref-3" name="footnote-3">3</a>. See <a href="#Failed-Analyses">Failed Analyses</a>.</div><div><a href="#footnote-ref-4" name="footnote-4">4</a>. Here&apos;s a blog post explaining more about <code>iteration</code>. <a href="https://www.juxt.pro/blog/new-clojure-iteration">https://www.juxt.pro/blog/new-clojure-iteration</a> </div><div><a href="#footnote-ref-5" name="footnote-5">5</a>. CSS is hard</div><div><a href="#footnote-ref-6" name="footnote-6">6</a>. Clearly</div></div></div></div></div></div></div></body></html>